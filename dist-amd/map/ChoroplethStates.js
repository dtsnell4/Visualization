(function(e,t){typeof define=="function"&&define.amd?define(["d3","./Choropleth","topojson","./us-states"],t):e.map_ChoroplethStates=t(e.d3,e.map_Choropleth,e.topojson,e.map_usStates)})(this,function(e,t,n,r){function i(){t.call(this),this.projection("albersUsaPr")}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" map_ChoroplethStates",i.prototype.enter=function(i,s){t.prototype.enter.apply(this,arguments),s.classed("map_Choropleth",!0);var o=this._svg.selectAll("path").data(n.feature(r.topology,r.topology.objects.states).features),u=this;this.choroPaths=o.enter().append("path").call(this._selection.enter.bind(this._selection)).on("click",function(e){var t=r.stateNames[e.id].code;u._dataMap[t]&&u.click(u.rowToObj(u._dataMap[t]),"weight",u._selection.selected(this))}).on("dblclick",function(t){e.event.stopPropagation(),u.zoomToFit(u.active===this?null:this,750),u.active=this}).on("mouseover.tooltip",function(e){var t=r.stateNames[e.id].code;u.tooltipShow([r.stateNames[e.id].name,u._dataMap[t]?u._dataMap[t][1]:"N/A"],u.columns(),1)}).on("mouseout.tooltip",function(e){u.tooltipShow()}).on("mousemove.tooltip",function(e){var t=r.stateNames[e.id].code;u.tooltipShow([r.stateNames[e.id].name,u._dataMap[t]?u._dataMap[t][1]:"N/A"],u.columns(),1)})},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var i=this;this.choroPaths.attr("d",this.d3Path).style("fill",function(e){var t=r.stateNames[e.id].code,n=i._dataMap[t]?i._dataMap[t][1]:undefined;return n===undefined?"url(#hash)":i._palette(n,i._dataMinWeight,i._dataMaxWeight)})},i});