(function(e,t){typeof define=="function"&&define.amd?define(["d3","./Choropleth","topojson","./us-counties"],t):e.map_ChoroplethCounties=t(e.d3,e.map_Choropleth,e.topojson,e.map_usCounties)})(this,function(e,t,n,r){function i(){t.call(this),this.projection("albersUsaPr")}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" map_ChoroplethCounties",i.prototype.enter=function(i,s){t.prototype.enter.apply(this,arguments),s.classed("map_Choropleth",!0);var o=this._svg.selectAll("path").data(n.feature(r.topology,r.topology.objects.counties).features),u=this;this.choroPaths=o.enter().append("path").call(this._selection.enter.bind(this._selection)).on("click",function(e){u._dataMap[e.id]&&u.click(u.rowToObj(u._dataMap[e.id]),"weight",u._selection.selected(this))}).on("dblclick",function(t){e.event.stopPropagation(),u.zoomToFit(u.active===this?null:this,750),u.active=this}).on("mouseover.tooltip",function(e){u.tooltipShow([r.countyNames[e.id],u._dataMap[e.id]?u._dataMap[e.id][1]:"N/A"],u.columns(),1)}).on("mouseout.tooltip",function(e){u.tooltipShow()}).on("mousemove.tooltip",function(e){u.tooltipShow([r.countyNames[e.id],u._dataMap[e.id]?u._dataMap[e.id][1]:"N/A"],u.columns(),1)})},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=this;this.choroPaths.attr("d",this.d3Path).style("fill",function(e){var t=r._dataMap[e.id]?r._dataMap[e.id][1]:undefined;return t===undefined?"url(#hash)":r._palette(t,r._dataMinWeight,r._dataMaxWeight)})},i});