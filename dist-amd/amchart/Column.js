(function(e,t){typeof define=="function"&&define.amd?define(["d3","./CommonSerial","amcharts.serial","../api/INDChart","css!./Column"],t):e.amchart_Column=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)})(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column",this.orientation("horizontal")}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Column",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("stacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("paletteGrouping","By Column","set","Palette Grouping",["By Category","By Column"],{tags:["Basic"]}),i.prototype.publish("cylinderBars",!1,"boolean","Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("circleRadius",1,"number","Circle Radius of Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("columnWidth",.62,"number","Column Width",null,{tags:["Basic"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%","3d"],{tags:["Basic"]}),i.prototype.publish("useOhlcLines",!1,"boolean","Use OHLC Lines",null,{tags:["Intermediate"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments);var e=this;this.stacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none";switch(this.paletteGrouping()){case"By Category":this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(n),e._chart.dataProvider[n].linecolor=e.lineColor()!==null?e.lineColor():e._palette(n)}),this._chart.colors=[];break;case"By Column":default:this._chart.colors=this.columns().filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this)}return this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.categoryAxis.startOnAxis=!1,this._rangeType==="candle-ohlc"?this._gType=this.useOhlcLines()?"ohlc":"candlestick":this._gType="column",this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function s(e,t){return this.columnWidth()&&(e.columnWidth=this.columnWidth()),this.cylinderBars()?e.topRadius=this.circleRadius():e.topRadius=undefined,e.colorField="color",e.lineColorField="linecolor"+t,e.fillColorsField="fillcolor"+t,this._rangeType==="normal"&&(e.openField="openField"+t,e.valueField="valueField"+t),this._rangeType==="candle-ohlc"&&(e.lowField="lowField"+t,e.openField="openField"+t,e.closeField="closeField"+t,e.highField="highField"+t),e.fillAlphas=this.fillOpacity(),e}this._chart.graphs=[];for(var n=0;n<this.columns().length-1;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,n);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i});