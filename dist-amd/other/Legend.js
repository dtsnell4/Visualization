(function(e,t){typeof define=="function"&&define.amd?define(["d3","./Table","css!./Legend"],t):e.other_Legend=t(e.d3,e.other_Table)})(this,function(e,t){function n(){t.call(this),this._tag="div",this.showHeader(!1)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype._class+=" other_Legend",n.prototype.targetWidget=function(e){function v(e){return'<div class="colorBlock" style="background-color:'+e+';"></div>'}function m(e){var t=e.toString().split(".")[0],n=e.toString().split(".")[1];while(/(\d+)(\d{3})/.test(t.toString()))t=t.toString().replace(/(\d+)(\d{3})/,"$1,$2");return typeof n!="undefined"?t+"."+n:t}var t=this,n=["Key","Label"],r=[],i=e.columns(),s=e._palette.toString().split("function ")[1].split("(")[0];if(s==="ordinal")for(var o in i)o>0&&r.push([v(e._palette(i[o])),i[o]]);else if(s==="rainbow"){var u=e._palette.colors().reverse(),a=u.length,f=e._dataMinWeight,l=e._dataMaxWeight;for(var c=0;c<a;c++){var h=parseInt((l-f)/a),p,d;c===0?(d=m(f+h*(c+1)),r.push([v(u[c]),"0 - "+d])):c+1===a?(p=m(f+h*c+1),r.push([v(u[c]),p+"+"])):(p=m(f+h*c+1),d=m(f+h*(c+1)),r.push([v(u[c]),p+" - "+d]))}}return t.columns(n),t.data(r),t._targetWidget=e,this},n.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments),this.renderHtmlDataCells(!0),this.fixedHeader(!1),n.classed("other_Legend",!0)},n.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=this;typeof this._targetWidget!="undefined"&&this.targetWidget(this._targetWidget);var i=n.select(".tableDiv > table"),s=i.node().getBoundingClientRect(),o=this._parentElement.node().getBoundingClientRect();n.select(".tableDiv").style({overflow:"visible"});var u=o.height/2-s.height/2,a=o.width/2-s.width/2;i.style({position:"absolute",top:u+"px",left:a+"px"});var f=this.pageNumber()-1,l=this.itemsPerPage(),c=f*l,h=parseInt(f*l)+parseInt(l),p=null;this.pagination()?p=this.data().slice(c,h):p=this.data();var d=this.tbody.selectAll("tr").data(p);d.on("click",function(e,t){r.onClick(e,t)}).on("mouseover",function(e,t){r.onMouseOver(e,t)})},n.prototype.onClick=function(e,t){console.log("Legend onClick method"),console.log("rowData: "+e),console.log("rowIdx: "+t)},n.prototype.onMouseOver=function(e,t){console.log("Legend onMouseOver method"),console.log("rowData: "+e),console.log("rowIdx: "+t)},n});